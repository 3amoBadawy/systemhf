# 🏠 نظام إدارة معرض الأثاث - التوثيق الشامل

## 📋 **جدول المحتويات**
1. [نظرة عامة على النظام](#نظرة-عامة-على-النظام)
2. [الميزات الأساسية](#الميزات-الأساسية)
3. [التحديثات والإضافات](#التحديثات-والإضافات)
4. [إعدادات الأعمال](#إعدادات-الأعمال)
5. [نظام إدارة الإصدارات](#نظام-إدارة-الإصدارات)
6. [إدارة الحسابات المتقدمة](#إدارة-الحسابات-المتقدمة)
7. [إدارة طرق الدفع](#إدارة-طرق-الدفع)
8. [إدارة الفروع والموظفين](#إدارة-الفروع-والموظفين)
9. [إدارة الفئات والمنتجات](#إدارة-الفئات-والمنتجات)
10. [إدارة العملاء والفواتير](#إدارة-العملاء-والفواتير)
11. [التصميم والواجهة](#التصميم-والواجهة)
12. [التثبيت والتشغيل](#التثبيت-والتشغيل)
13. [التقنيات المستخدمة](#التقنيات-المستخدمة)
14. [أوامر Artisan](#أوامر-artisan)
15. [استكشاف الأخطاء](#استكشاف-الأخطاء)

---

## 🎯 **نظرة عامة على النظام**

نظام متكامل لإدارة معرض الأثاث مبني بلغة PHP باستخدام إطار العمل **Laravel 12** مع واجهة عربية بالكامل. النظام مصمم خصيصاً للاستخدام في مصر مع إعدادات افتراضية مصرية.

### 🌟 **المميزات الرئيسية:**
- **واجهة عربية بالكامل** مع اتجاه RTL
- **تصميم متجاوب** يعمل على جميع الأجهزة
- **إعدادات أعمال قابلة للتخصيص** (اسم الشركة، العملة، المنطقة الزمنية)
- **نظام إصدارات تلقائي** مع footer موحد
- **إدارة شاملة** لجميع جوانب العمل
- **أمان عالي** مع نظام مصادقة متقدم

---

## ✨ **الميزات الأساسية**

### 🏠 **لوحة التحكم**
- إحصائيات شاملة للمبيعات والمنتجات والعملاء
- إجراءات سريعة للوصول لأهم الوظائف
- تصميم حديث وجذاب
- معلومات إعدادات الأعمال

### 👥 **إدارة العملاء**
- إضافة وتعديل وحذف بيانات العملاء
- البحث المتقدم في قاعدة بيانات العملاء
- تتبع تاريخ التعامل مع كل عميل
- إدارة معلومات الاتصال والعنوان

### 🛋️ **إدارة المنتجات**
- إدارة كاملة للمنتجات والمخزون
- تصنيف المنتجات حسب الفئات
- تتبع الأسعار والكميات المتوفرة
- رفع صور المنتجات

### 💰 **إدارة الفواتير**
- إنشاء فواتير المبيعات
- طباعة الفواتير
- تتبع طرق الدفع وحالة الفواتير
- إدارة عناصر الفاتورة

### 🏷️ **إدارة الفئات**
- تنظيم المنتجات في فئات منظمة
- إمكانية تفعيل/إلغاء تفعيل الفئات
- ترتيب الفئات حسب الأولوية

---

## 🚀 **التحديثات والإضافات**

### 📅 **الإصدار 1.0.0** - الإطلاق الأولي
- نظام أساسي متكامل
- إدارة العملاء والمنتجات والفواتير
- واجهة عربية حديثة
- نظام مصادقة متقدم

### 📅 **الإصدار 1.0.1** - إضافة نظام إدارة الإصدارات
- إنشاء جدول `system_versions`
- نظام إدارة الإصدارات عبر Artisan commands
- Footer موحد مع معلومات الإصدار
- تتبع الميزات والإصلاحات

### 📅 **الإصدار 1.0.2** - تنظيف النظام
- حذف نظامي المجموعات والقطع غير المستخدمين
- تنظيف قاعدة البيانات
- تحسين الأداء بحذف الكود غير المستخدم

### 📅 **الإصدار 1.0.3** - دمج التوثيق
- دمج جميع ملفات التوثيق في ملف شامل واحد
- تنظيم المعلومات بشكل منطقي
- سهولة الوصول للمعلومات
- حذف الملفات المكررة والقديمة

---

## ⚙️ **إعدادات الأعمال**

### 🏢 **نظام إعدادات الأعمال المتكامل**

تم إنشاء نظام شامل لإعدادات الأعمال يتضمن:

#### **📊 قاعدة البيانات:**
```sql
business_settings:
- business_name (اسم الشركة)
- business_name_ar (اسم الشركة بالعربية)
- default_profit_percent (نسبة الربح الافتراضية)
- currency (العملة)
- currency_symbol (رمز العملة)
- currency_symbol_placement (موضع رمز العملة)
- timezone (المنطقة الزمنية)
- logo (شعار الشركة)
- date_format (تنسيق التاريخ)
- time_format (تنسيق الوقت)
- phone (رقم الهاتف)
- email (البريد الإلكتروني)
- address (العنوان)
- description (الوصف)
```

#### **🇪🇬 الإعدادات الافتراضية لمصر:**
- **اسم الشركة:** معرض الأثاث المصري
- **العملة:** EGP (جنيه مصري)
- **رمز العملة:** ج.م
- **المنطقة الزمنية:** Africa/Cairo
- **تنسيق التاريخ:** d-m-Y
- **نسبة الربح الافتراضية:** 30%

#### **🔧 الخدمات المتاحة:**
- `BusinessSettingsService` - خدمة مركزية للإعدادات
- `BusinessSettingsServiceProvider` - مزود الخدمة
- تخزين مؤقت للإعدادات لتحسين الأداء
- تحديث تلقائي للواجهة

#### **📱 الواجهة:**
- صفحة إعدادات الأعمال `/business-settings`
- نموذج شامل لجميع الإعدادات
- رفع وإدارة شعار الشركة
- حفظ تلقائي للإعدادات

---

## 🔄 **نظام إدارة الإصدارات**

### 📋 **نظام تتبع الإصدارات التلقائي**

#### **📊 قاعدة البيانات:**
```sql
system_versions:
- version (رقم الإصدار)
- version_name (اسم الإصدار)
- description (وصف الإصدار)
- release_date (تاريخ الإصدار)
- type (نوع الإصدار: major, minor, patch)
- features (الميزات الجديدة - JSON)
- bug_fixes (الإصلاحات - JSON)
- is_current (الإصدار الحالي)
- is_required (إصدار مطلوب)
```

#### **🎯 أنواع الإصدارات:**
- **Major (رئيسي):** تغييرات كبيرة، قد لا تكون متوافقة مع الإصدارات السابقة
- **Minor (فرعي):** ميزات جديدة مع الحفاظ على التوافق
- **Patch (إصلاح):** إصلاحات للأخطاء وتحسينات صغيرة

#### **⚡ أوامر Artisan:**
```bash
# عرض الإصدار الحالي
php artisan system:version current

# إنشاء إصدار جديد
php artisan system:version create --v=1.0.3 --type=minor --description="إضافة ميزة جديدة"

# عرض جميع الإصدارات
php artisan system:version list

# تحديث إصدار
php artisan system:version update --v=1.0.3 --description="وصف محدث"
```

#### **🎨 Footer الموحد:**
- عرض معلومات الإصدار الحالي
- تفاصيل الميزات والإصلاحات
- معلومات الشركة والشعار
- تحديث تلقائي مع كل إصدار جديد

---

## 💳 **إدارة الحسابات المتقدمة**

### 🏦 **نظام إدارة الحسابات الشامل**

#### **📊 قاعدة البيانات:**
```sql
accounts:
- name (اسم الحساب)
- type (نوع الحساب)
- balance (الرصيد)
- currency (العملة)
- description (الوصف)
- is_active (نشط)
- created_at, updated_at
```

#### **🎯 أنواع الحسابات:**
- **أصول (Assets):** النقد، البنوك، المخزون
- **خصوم (Liabilities):** القروض، المدفوعات المستحقة
- **إيرادات (Revenue):** المبيعات، الخدمات
- **مصروفات (Expenses):** المشتريات، الرواتب

#### **📈 الميزات:**
- تتبع الأرصدة تلقائياً
- تقارير مالية شاملة
- إدارة متقدمة للعمليات المالية
- دعم العملات المتعددة

---

## 💰 **إدارة طرق الدفع**

### 🏧 **نظام طرق الدفع المتكامل**

#### **📊 قاعدة البيانات:**
```sql
payment_methods:
- name (اسم طريقة الدفع)
- name_ar (الاسم بالعربية)
- type (النوع: cash, bank, card, online)
- is_active (نشط)
- description (الوصف)
- icon (الأيقونة)
```

#### **🎯 أنواع طرق الدفع:**
- **نقدي (Cash):** الدفع النقدي
- **بنكي (Bank):** التحويل البنكي
- **بطاقة (Card):** البطاقات الائتمانية
- **إلكتروني (Online):** الدفع الإلكتروني

#### **🔧 الميزات:**
- إدارة شاملة لطرق الدفع
- ربط مع نظام الفواتير
- تقارير المدفوعات
- إحصائيات طرق الدفع

---

## 🏢 **إدارة الفروع والموظفين**

### 🏪 **نظام إدارة الفروع**

#### **📊 قاعدة البيانات:**
```sql
branches:
- name (اسم الفرع)
- name_ar (الاسم بالعربية)
- address (العنوان)
- phone (الهاتف)
- email (البريد الإلكتروني)
- manager_id (معرف المدير)
- is_active (نشط)
```

#### **👥 إدارة الموظفين:**
```sql
employees:
- name (الاسم)
- name_ar (الاسم بالعربية)
- email (البريد الإلكتروني)
- phone (الهاتف)
- position (المنصب)
- branch_id (معرف الفرع)
- salary (الراتب)
- hire_date (تاريخ التعيين)
- is_active (نشط)
```

#### **🔧 الميزات:**
- ربط الموظفين بالفروع
- إدارة الرواتب والمناصب
- تقارير الموظفين
- إدارة الصلاحيات

---

## 🏷️ **إدارة الفئات والمنتجات**

### 📂 **نظام الفئات**

#### **📊 قاعدة البيانات:**
```sql
categories:
- name (اسم الفئة)
- name_ar (الاسم بالعربية)
- description (الوصف)
- parent_id (معرف الفئة الأب)
- sort_order (ترتيب الفرز)
- is_active (نشط)
```

#### **🛋️ إدارة المنتجات:**
```sql
products:
- name (اسم المنتج)
- name_ar (الاسم بالعربية)
- description (الوصف)
- category_id (معرف الفئة)
- price (السعر)
- cost_price (سعر التكلفة)
- stock_quantity (الكمية المتوفرة)
- image (صورة المنتج)
- is_active (نشط)
```

#### **🔧 الميزات:**
- فئات متداخلة (Hierarchical)
- إدارة المخزون
- تتبع الأسعار
- رفع الصور

---

## 👥 **إدارة العملاء والفواتير**

### 🧑‍💼 **نظام إدارة العملاء**

#### **📊 قاعدة البيانات:**
```sql
customers:
- name (الاسم)
- name_ar (الاسم بالعربية)
- email (البريد الإلكتروني)
- phone (الهاتف)
- address (العنوان)
- tax_number (الرقم الضريبي)
- credit_limit (حد الائتمان)
- is_active (نشط)
```

#### **🧾 إدارة الفواتير:**
```sql
invoices:
- invoice_number (رقم الفاتورة)
- customer_id (معرف العميل)
- invoice_date (تاريخ الفاتورة)
- due_date (تاريخ الاستحقاق)
- subtotal (المجموع الفرعي)
- tax_amount (مبلغ الضريبة)
- total_amount (المجموع الكلي)
- status (الحالة)
- payment_method_id (معرف طريقة الدفع)
```

#### **🔧 الميزات:**
- تتبع تاريخ التعامل
- إدارة الائتمان
- طباعة الفواتير
- تقارير المبيعات

---

## 🎨 **التصميم والواجهة**

### 🎯 **التصميم الموحد**

#### **🎨 Tailwind CSS 4.0:**
- تصميم حديث ومتجاوب
- ألوان متناسقة
- مكونات قابلة لإعادة الاستخدام
- دعم كامل للغة العربية

#### **📱 التصميم المتجاوب:**
- يعمل على جميع الأجهزة
- تخطيط متكيف
- قائمة جانبية ثابتة
- شريط علوي ديناميكي

#### **🔧 المكونات:**
- `app.blade.php` - التخطيط الرئيسي
- `footer.blade.php` - Footer موحد
- مكونات Blade قابلة لإعادة الاستخدام
- أيقونات SVG حديثة

---

## 🚀 **التثبيت والتشغيل**

### 📋 **المتطلبات**
- **PHP:** 8.1+ / 8.3
- **Laravel:** 12.x
- **Composer:** أحدث إصدار
- **MySQL/SQLite:** قاعدة بيانات
- **Node.js:** 18+
- **NPM:** أحدث إصدار

### ⚡ **خطوات التثبيت**

#### **1. استنساخ المشروع**
```bash
git clone <repository-url>
cd systemhf
```

#### **2. تثبيت التبعيات**
```bash
composer install
npm install
```

#### **3. إعداد البيئة**
```bash
cp .env.example .env
php artisan key:generate
```

#### **4. إعداد قاعدة البيانات**
```bash
# إنشاء الجداول
php artisan migrate --force

# إضافة البيانات الأولية
php artisan db:seed --class=BusinessSettingsSeeder --force
php artisan db:seed --class=SystemVersionSeeder --force
```

#### **5. بناء الأصول**
```bash
npm run build
```

#### **6. تشغيل النظام**
```bash
# تشغيل كل شيء معاً
composer run dev

# أو تشغيل كل خدمة منفصلة
php artisan serve
npm run dev
```

---

## 🔧 **التقنيات المستخدمة**

### 🏗️ **Backend**
- **Laravel 12:** إطار العمل الرئيسي
- **PHP 8.3:** لغة البرمجة
- **Eloquent ORM:** إدارة قاعدة البيانات
- **Service Layer:** طبقة الخدمات
- **Service Providers:** مزودي الخدمات

### 🎨 **Frontend**
- **Blade Templates:** محرك القوالب
- **Tailwind CSS 4.0:** إطار CSS
- **Alpine.js:** JavaScript التفاعلي
- **Vite 7.x:** أداة البناء

### 🗄️ **Database**
- **MySQL/SQLite:** قاعدة البيانات
- **Migrations:** إدارة المخطط
- **Seeders:** البيانات الأولية
- **Eloquent Relationships:** العلاقات

### 🛠️ **Development Tools**
- **Artisan Commands:** أوامر CLI
- **Laravel Pint:** تنسيق الكود
- **Laravel Sail:** بيئة التطوير

---

## ⚡ **أوامر Artisan**

### 🔧 **أوامر النظام الأساسية**
```bash
# إنشاء مفتاح التطبيق
php artisan key:generate

# إنشاء جداول قاعدة البيانات
php artisan migrate --force

# إضافة البيانات الأولية
php artisan db:seed --class=BusinessSettingsSeeder --force
php artisan db:seed --class=SystemVersionSeeder --force

# مسح التخزين المؤقت
php artisan cache:clear
php artisan config:clear
php artisan view:clear

# إعادة تحميل التكوين
php artisan config:cache
```

### 📊 **أوامر إدارة الإصدارات**
```bash
# عرض الإصدار الحالي
php artisan system:version current

# إنشاء إصدار جديد
php artisan system:version create --v=1.0.3 --type=minor --description="ميزة جديدة"

# عرض جميع الإصدارات
php artisan system:version list

# تحديث إصدار
php artisan system:version update --v=1.0.3 --description="وصف محدث"
```

### 🧹 **أوامر الصيانة**
```bash
# مسح جميع التخزينات المؤقتة
php artisan optimize:clear

# إعادة بناء التخزين المؤقت
php artisan optimize

# عرض حالة النظام
php artisan about
```

---

## 🔍 **استكشاف الأخطاء**

### ❌ **الأخطاء الشائعة وحلولها**

#### **1. خطأ قاعدة البيانات**
```bash
# إعادة تشغيل الهجرة
php artisan migrate:fresh --force

# إعادة إضافة البيانات
php artisan db:seed --force
```

#### **2. خطأ التخزين المؤقت**
```bash
# مسح التخزين المؤقت
php artisan cache:clear
php artisan config:clear
php artisan view:clear
```

#### **3. خطأ الأصول**
```bash
# إعادة بناء الأصول
npm run build

# مسح التخزين المؤقت
php artisan view:clear
```

#### **4. خطأ الصلاحيات**
```bash
# تعديل صلاحيات المجلدات
chmod -R 755 storage/
chmod -R 755 bootstrap/cache/
```

### 📞 **الدعم الفني**
- **المطور:** فريق تطوير معرض الأثاث المصري
- **البريد الإلكتروني:** support@high-furniture.com
- **الموقع:** https://sys.high-furniture.com

---

## 🎉 **الخلاصة**

تم تطوير نظام إدارة معرض الأثاث المصري بنجاح مع جميع الميزات المطلوبة:

✅ **نظام أساسي متكامل** - إدارة العملاء، المنتجات، الفواتير  
✅ **إعدادات أعمال قابلة للتخصيص** - مصر كإعدادات افتراضية  
✅ **نظام إدارة الإصدارات** - تتبع تلقائي للتحديثات  
✅ **Footer موحد** - عرض معلومات النظام والإصدار  
✅ **واجهة عربية حديثة** - تصميم متجاوب ومتطور  
✅ **أمان عالي** - نظام مصادقة متقدم  
✅ **أداء محسن** - تخزين مؤقت وتحسينات  

### 🚀 **الخطوات التالية:**
1. **اختبار النظام** على البيئة الإنتاجية
2. **تدريب المستخدمين** على النظام الجديد
3. **إعداد النسخ الاحتياطية** التلقائية
4. **مراقبة الأداء** وتحسينه باستمرار

---

**🎯 تم إنشاء هذا النظام بواسطة فريق تطوير معرض الأثاث المصري** 🏠🇪🇬

**📅 آخر تحديث:** 2025-08-22  
**🔄 الإصدار الحالي:** 1.0.3  
**📧 الدعم:** support@high-furniture.com  
**🌐 الموقع:** https://sys.high-furniture.com
